(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"57xB":function(e,a,t){"use strict";t.r(a);var n=t("3zd4"),r=t.n(n),l=t("PYbA"),i=t.n(l),o=t("ciOd"),c=t.n(o),s=t("lo8B"),m=t.n(s),u=t("+BC6"),d=t("Exp3"),p=t("9/S0"),b=t("i6EU"),h=t("tNIE"),y=t("DW1Q"),E=t("GFyV"),g=t("cDcd"),f=t.n(g),k=t("tEgV"),v=t.n(k),w=t("uiSp"),N=t("8rBJ"),j=t("pVXn"),O=t("tGAc"),_=e=>f.a.createElement("span",{className:"anticon",tabIndex:-1,role:"img"},f.a.createElement("svg",Object.assign({viewBox:"64 64 896 896",width:"1em",height:"1em","aria-hidden":"true",fill:"currentColor",focusable:"false"},e),f.a.createElement("path",{d:"M96 896h-6.4c-16-3.2-25.6-16-25.6-32 0-9.6-6.4-201.6 169.6-374.4C348.8 374.4 508.8 355.2 576 352V192c0-12.8 6.4-25.6 19.2-28.8s25.6-3.2 35.2 6.4l320 288c6.4 6.4 9.6 16 9.6 22.4s-3.2 19.2-9.6 22.4l-320 288c-9.6 9.6-22.4 9.6-35.2 6.4-12.8-3.2-19.2-16-19.2-28.8V608c-51.2 0-160 9.6-240 60.8C198.4 752 124.8 880 121.6 880c-3.2 9.6-12.8 16-25.6 16z"}))),x=t("SjWo"),M=t("/5lR"),C=t("WNUh"),I=t("oJsO"),A=t("rE4P"),S=t("wpPs"),L=t("KAYl"),V=t("JS9I"),B=t.n(V),D=d.Layout.Content,G=d.Layout.Sider;function P(e){var a=!0,t=!1,n=void 0;try{for(var r,l=window.g_service.panels[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var i=r.value;if(i.path===e)return i}}catch(e){t=!0,n=e}finally{try{a||null==l.return||l.return()}finally{if(t)throw n}}return null}var T,F=Object(M.g)(E.formatMessage);a.default=Object(N.o)(e=>{var a=L.a.extend("Dashboard"),t=e.location.pathname,n=P(t)?P(t):{},l=Object(g.useState)([n?n.path:"/"]),o=m()(l,2),s=o[0],k=o[1],N=Object(g.useState)(),V=m()(N,2),J=V[0],R=V[1];Object(g.useLayoutEffect)(()=>{var e=P(t);k([e?e.path:"/"]),R(e&&e.actions?e.actions:[]);var a=e=>{R(e)};return A.b.on(A.a.CHANGE_GLOBAL_ACTION,a),()=>{A.b.off(A.a.CHANGE_GLOBAL_ACTION,a)}},[t]);var U=window.g_uiProjects||{},K=Object(w.parse)(window.location.search,{ignoreQueryPrefix:!0}),W=(K.active,c()(K,["active"])),z=Object.keys(W).length>0?"?".concat(Object(w.stringify)(W)):"";a("projectsprojects",U);var H=function(){var e=i()(r.a.mark(function e(a){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=a.key)){e.next=6;break}return e.next=4,Object(M.d)(!0,"/dashboard".concat(z));case 4:return e.next=6,Object(O.p)({key:t});case 6:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),Q=n.title?F({id:n.title}):"",Y=window.g_service.panels,X=Y.filter(e=>!e.beta),q=Y.filter(e=>e.beta);return f.a.createElement(S.a,{type:"detail",title:Q},f.a.createElement(I.a.Consumer,null,a=>{var t=a.currentProject,l=a.theme,o=a.isMini,m=a.locale,w=function(){var e=i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.key){e.next=3;break}return e.next=3,Object(O.n)({key:t.key});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=Object.keys(U),I=f.a.createElement(d.Menu,{theme:l,className:B.a["sidebar-recentMenu"]},f.a.createElement(d.Menu.Item,{key:"openInEdit",onClick:w},f.a.createElement("p",null,Object(E.formatMessage)({id:"org.umi.ui.global.project.editor.open"}))),N.length>0&&f.a.createElement(d.Menu.Divider,null),f.a.createElement(d.Menu.ItemGroup,{key:"projects",title:N.length>1?Object(E.formatMessage)({id:"org.umi.ui.global.panel.recent.open"}):Object(E.formatMessage)({id:"org.umi.ui.global.panel.recent.open.empty"})},t&&N.filter(e=>e!==t.key&&"success"===Object(M.c)(t)).sort((e,a)=>v()(U,"".concat(a,".opened_at"),new Date("2002").getTime())-v()(U,"".concat(e,".opened_at"),new Date("2002").getTime())).slice(0,5).map(e=>f.a.createElement(d.Menu.Item,{key:e,onClick:H},f.a.createElement("p",null,v()(U,"".concat(e,".name"),"未命名")))))),A=e=>{var a=e.panel,t=c()(e,["panel"]);return f.a.createElement(d.Menu.Item,Object.assign({key:a.path},t,{title:null,level:o&&"zh-CN"===m?2:1}),f.a.createElement(j.NavLink,{exact:!0,to:"".concat(a.path).concat(z)},"function"==typeof(T="string"==typeof a.icon?{type:a.icon}:a.icon)&&f.a.isValidElement(T())?T():f.a.isValidElement(T)?T:f.a.createElement(u.a,Object.assign({},T)),o?f.a.createElement("p",{className:B.a.menuText},F(a.title)):f.a.createElement("span",{className:B.a.menuItem},F(a.title))))},S=function(){var e=i()(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.p)({key:t.key});case 2:window.open(a);case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}();return f.a.createElement("div",{className:B.a.normal},o&&f.a.createElement(d.Row,{type:"flex",align:"middle",justify:"space-between",className:B.a["mini-header"]},f.a.createElement(d.Col,null,f.a.createElement("p",{className:B.a["mini-header-name"]},t?t.name:""),f.a.createElement(d.Tooltip,{title:Object(E.formatMessage)({id:"org.umi.ui.global.project.editor.open"})},f.a.createElement(p.a,{onClick:w}))),f.a.createElement(d.Col,{className:B.a.gotoUi},f.a.createElement("a",{rel:"noopener noreferrer",onClick:S.bind(null,"".concat(window.location.origin).concat(window.location.pathname))},f.a.createElement(_,null),f.a.createElement(E.FormattedMessage,{id:"org.umi.ui.global.dashboard.mini.full"})))),f.a.createElement(d.Layout,null,f.a.createElement(d.Row,{type:"flex",className:B.a.wrapper},f.a.createElement(G,{className:B.a.sidebar,collapsed:o,collapsedWidth:64},f.a.createElement("div",{className:B.a["sidebar-top"]},!o&&f.a.createElement("div",{className:B.a["sidebar-name"]},f.a.createElement(b.a,{onClick:()=>Object(M.d)(!1),className:B.a["sidebar-name-back"]}),f.a.createElement(d.Dropdown,{placement:"bottomRight",trigger:["click"],overlay:I,className:B.a["sidebar-name-dropdown"]},v()(t,"name.length")>16?f.a.createElement(d.Tooltip,{title:t.name},f.a.createElement("p",null,t.name),f.a.createElement(h.a,{className:B.a["sidebar-name-expand-icon"]})):f.a.createElement("div",null,f.a.createElement("p",null,t.name),f.a.createElement(h.a,{className:B.a["sidebar-name-expand-icon"]})))),f.a.createElement(d.Menu,{theme:"light",selectedKeys:s,onClick:e=>{var a=e.key;k([a])},style:{border:0},mode:"inline"},X.map(e=>f.a.createElement(A,{key:e.path,panel:e})))),Array.isArray(q)&&q.length>0&&f.a.createElement("div",{className:B.a["sidebar-lab"]},o?f.a.createElement(d.Menu,{theme:"light",selectedKeys:s,style:{border:0},selectable:!1,mode:"inline"},f.a.createElement(d.Menu.SubMenu,{key:"lab_subMenu",title:f.a.createElement("span",null,f.a.createElement(y.a,{className:B.a.menuIcon}),f.a.createElement("p",null,f.a.createElement(E.FormattedMessage,{id:"org.umi.ui.global.dashboard.lab"})))},q.map((e,a)=>{var t="object"==typeof e.icon?e.icon:{type:e.icon};return f.a.createElement(d.Menu.Item,{key:e.path},f.a.createElement(j.NavLink,{exact:!0,to:"".concat(e.path).concat(z)},f.a.createElement(u.a,Object.assign({className:B.a.menuIcon},t)),f.a.createElement("span",{className:B.a.menuItem},F(e.title))))}))):f.a.createElement(d.Dropdown,{overlay:(()=>f.a.createElement(d.Menu,{selectedKeys:s},q.map((e,a)=>f.a.createElement(A,{panel:e,key:e.path}))))(),placement:"topLeft",getPopupContainer:e=>e.parentNode},f.a.createElement(d.Menu,{theme:"light",style:{border:0},selectable:!1,mode:"inline"},f.a.createElement(d.Menu.Item,null,f.a.createElement(y.a,{className:B.a.menuIcon}),f.a.createElement("span",{className:B.a.menuItem},f.a.createElement(E.FormattedMessage,{id:"org.umi.ui.global.dashboard.lab"}))))))),f.a.createElement(D,{className:B.a.main},f.a.createElement("div",{key:"header",className:B.a.header},f.a.createElement("h1",null,n&&Q),Array.isArray(J)&&J.length>0&&f.a.createElement(d.Row,{type:"flex",className:B.a["header-actions"]},J.map((e,a)=>{if(f.a.isValidElement(e))return f.a.createElement(g.Fragment,{key:a.toString()},e);if("function"==typeof e&&f.a.isValidElement(e({})))return f.a.createElement(g.Fragment,{key:a.toString()},e({}));var t=e.title,n=e.action,l=e.onClick,o=c()(e,["title","action","onClick"]),s=function(){var e=i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.a)(n);case 3:l&&l(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),d.message.error(e.t0&&e.t0.message?e.t0.message:"error");case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}();return t&&f.a.createElement(d.Button,Object.assign({key:a.toString(),onClick:s},o),F({id:t}))}))),f.a.createElement("div",{key:n.path||"/",className:B.a.content},f.a.createElement(C.a,{className:B.a["dashboard-error-boundary"]},e.children))))))}))})},JS9I:function(e,a,t){e.exports={"mini-header":"umi-ui-layouts-dashboard_mini-header","mini-header-name":"umi-ui-layouts-dashboard_mini-header-name",gotoUi:"umi-ui-layouts-dashboard_gotoUi",sidebar:"umi-ui-layouts-dashboard_sidebar","sidebar-lab":"umi-ui-layouts-dashboard_sidebar-lab",menuIcon:"umi-ui-layouts-dashboard_menuIcon",normal:"umi-ui-layouts-dashboard_normal","dashboard-error-boundary":"umi-ui-layouts-dashboard_dashboard-error-boundary","ui-dashboard-transition":"umi-ui-layouts-dashboard_ui-dashboard-transition",wrapper:"umi-ui-layouts-dashboard_wrapper","sidebar-recentMenu":"umi-ui-layouts-dashboard_sidebar-recentMenu",logo:"umi-ui-layouts-dashboard_logo","sidebar-name":"umi-ui-layouts-dashboard_sidebar-name","sidebar-name-dropdown":"umi-ui-layouts-dashboard_sidebar-name-dropdown","sidebar-name-back":"umi-ui-layouts-dashboard_sidebar-name-back","sidebar-name-expand-icon":"umi-ui-layouts-dashboard_sidebar-name-expand-icon",menuItem:"umi-ui-layouts-dashboard_menuItem",main:"umi-ui-layouts-dashboard_main",header:"umi-ui-layouts-dashboard_header","header-actions":"umi-ui-layouts-dashboard_header-actions",content:"umi-ui-layouts-dashboard_content"}}}]);